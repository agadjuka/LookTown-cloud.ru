"""
–ú–æ–¥—É–ª—å –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –º–∞—Å—Ç–µ—Ä–∞—Ö
"""
from typing import Dict, List, Any


class MastersFormatter:
    """–§–æ—Ä–º–∞—Ç—Ç–µ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –º–∞—Å—Ç–µ—Ä–∞—Ö –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç"""
    
    @staticmethod
    def format_masters(data: Dict[str, Any]) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –º–∞—Å—Ç–µ—Ä–∞—Ö –≤ —É–¥–æ–±–Ω—ã–π —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç
        
        Args:
            data: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –º–∞—Å—Ç–µ—Ä–∞—Ö –∏–∑ JSON
            
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–∞—Å—Ç–µ—Ä–∞—Ö
        """
        if not data or "masters" not in data:
            return "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
        
        masters = data.get("masters", [])
        
        if not masters:
            return "–°–ø–∏—Å–æ–∫ –º–∞—Å—Ç–µ—Ä–æ–≤ –ø—É—Å—Ç"
        
        result_parts = []
        result_parts.append("üìã –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞:\n")
        
        for idx, master in enumerate(masters, 1):
            master_id = master.get("id", "N/A")
            name = master.get("name", "–ù–µ —É–∫–∞–∑–∞–Ω–æ")
            title = master.get("title", "–ù–µ —É–∫–∞–∑–∞–Ω–æ")
            url = master.get("url", "")
            
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Å—Ç–µ—Ä–µ
            master_info = f"{idx}. {name}"
            master_info += f"\n   ‚Ä¢ ID: {master_id}"
            master_info += f"\n   ‚Ä¢ –î–æ–ª–∂–Ω–æ—Å—Ç—å: {title}"
            
            if url:
                master_info += f"\n   ‚Ä¢ –°—Å—ã–ª–∫–∞: {url}"
            
            result_parts.append(master_info)
            result_parts.append("")  # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ñ—Ä–∞–∑—É –æ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–æ–≤
        result_parts.append("\n((–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–æ–≤: –í—Å–µ –Ω–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ —á—É—Ç–∫–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ç–ª–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞–±–æ—Ç—É, –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ—Ç–∑—ã–≤–∞–º–∏ –º–∞—Å—Ç–µ—Ä–∞: {{—Å—Å—ã–ª–∫–∞}} ))")
        
        return "\n".join(result_parts)

